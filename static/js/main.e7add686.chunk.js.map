{"version":3,"sources":["components/Loader/loader.js","components/ContentWithScroll/contentWithScroll.js","components/Item/item.js","index.js","App.js"],"names":["Loader_loader","react_default","a","createElement","className","ContentWithScroll","state","results","hasMore","fetchMoreData","_callee","newOffset","_ref2","_ref2$data","offset","regenerator_default","wrap","_context","prev","next","_this","length","total","setState","abrupt","LIMIT_ITEMS","console","info","getItems","props","query","sent","data","paging","concat","Object","toConsumableArray","t0","error","stop","_callee2","_args2","arguments","_context2","undefined","axios","get","API","params","q","limit","this","Component","component","react","lib_default","dataLength","loader","map","item","index","assign","key","PureComponent","components_Item_item","_ref","title","price","thumbnail","src","alt","ReactDOM","render","contentWithScroll_ContentWithScroll","Item","document","getElementById"],"mappings":"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","file":"static/js/main.e7add686.chunk.js","sourcesContent":["import React from 'react';\nimport './loader.scss';\n\nexport default function() {\n    return <div className=\"loader\" />;\n}","import React, { PureComponent, Fragment } from 'react';\nimport axios from 'axios';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport Loader from '../Loader/loader';\nimport './contentWithScroll.scss';\n\nexport default class ContentWithScroll extends PureComponent {\n\n  // URI del API de mercadolibre\n  static API = 'https://api.mercadolibre.com';\n  // Cantidad de items a mostrar por iteración\n  static LIMIT_ITEMS = 20;\n\n  // Default State\n  state = {\n    results: [],\n    hasMore: true\n  };\n\n  /**\n   * Antes de renderizar se realiza una llamada al endpoint de search para obtener los primeros 20 items...\n   */\n  async componentDidMount() {\n    const { data: { paging: { total, offset }, results } } = await this.getItems(this.props.query);\n    this.setState({ results, hasMore: true, total, offset });\n  }\n\n  /**\n   * Se toma el componente del props para iterar...\n   */\n  render() {\n    const Component = this.props.component;\n    return (\n      <Fragment>\n        <InfiniteScroll\n          className=\"wrapperInfiniteScroll\"\n          dataLength={this.state.results.length}\n          next={this.fetchMoreData}\n          hasMore={this.state.hasMore}\n          loader={<Loader />}>\n          {this.state.results.map((item, index) => <Component {...item} key={index} />)}\n        </InfiniteScroll>\n      </Fragment>\n    );\n  }\n\n   /**\n   * Método para verificar si hay que buscar mas items en el caso\n   * que todavia queden items se realiza la llamada a la API, sino termina\n   * @returns void\n   */\n  fetchMoreData = async () => {\n    if (this.state.results.length >= this.state.total) {\n      this.setState({ hasMore: false });\n      return;\n    } else {\n      const newOffset = this.state.offset + ContentWithScroll.LIMIT_ITEMS;\n      try {\n        console.info('fetching more items...');\n        const { data: { paging: { offset }, results } } = await this.getItems(this.props.query, newOffset);\n        this.setState({ results: [...this.state.results, ...results], offset });\n      } catch (err) {\n        console.error('Error al obtener más resultados...', err);\n        this.setState({ hasMore: false });\n      }\n    }\n  };\n\n  /**\n   * Método para obtener los items, realiza el paginado limitando el offset\n   * @param {string} query\n   * @param {number} offset\n   */\n  getItems = async (query, offset = 0) => {\n    return await axios.get(`${ContentWithScroll.API}/sites/MLA/search`, {\n      params: {\n        q: query,\n        paging: true,\n        limit: ContentWithScroll.LIMIT_ITEMS,\n        offset: offset\n      }\n    });\n  };\n\n}\n","import React from 'react';\nimport './item.scss';\n\nexport default function ({ title, price, thumbnail }) {\n    return (\n        <div className=\"card my-2 item-ctn\">\n            <img src={thumbnail} className=\"d-block item-img\" alt=\"default\" />\n            <div className=\"card-body\">\n                <h4 className=\"title-card\">{title}</h4>\n                <p className=\"title-card subtitle-card\">$ {price}</p>\n            </div>\n        </div>\n    );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));","import React from 'react';\nimport ContentWithScroll from '../src/components/ContentWithScroll/contentWithScroll';\nimport Item from '../src/components/Item/item';\n\nexport default function() {\n  return (\n    <ContentWithScroll query=\"lapicera\" component={Item} />\n  );\n}\n"],"sourceRoot":""}